<div class="flex flex-col md:flex-row">
  <div class="w-full md:w-1/5 p-4 bg-white">
    <app-admin> </app-admin>
  </div>
  <div class="w-full md:w-4/5 p-4">
    <h1 class="text-2xl font-semibold mb-4">Category Management</h1>

    <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" class="space-y-4">
      <div class="form-control">
        <label class="label">Category Name</label>
        <input
          type="text"
          placeholder="Enter Category Name"
          formControlName="categoryName"
          class="input input-bordered w-full"
          required
        />
        <span
          class="validation text-red-500"
          *ngIf="categoryForm.get('categoryName')?.touched && categoryForm.controls['categoryName'].errors?.['required']"
        >
          Category is required
        </span>
      </div>

      <div class="form-control">
        <label class="label">Description</label>
        <textarea
          placeholder="Enter the description"
          formControlName="description"
          class="input input-bordered w-full"
        ></textarea>
        <span
          class="validation text-red-500"
          *ngIf="categoryForm.get('description')?.touched && categoryForm.controls['description'].errors?.['required']"
        >
          Description is required
        </span>
      </div>

      <button
        type="submit"
        [disabled]="!categoryForm.valid"
        class="btn btn-primary w-full md:w-auto"
      >
        Submit
      </button>
    </form>

    <div class="overflow-x-auto mt-6">
      <table class="table table-compact">
        <thead>
          <tr>
            <th>Category Id</th>
            <th>Category Name</th>
            <th>Description</th>
            <th>List / Unlist</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let category of categories">
            <td>
                {{ category._id }}
              </td>
            <td>
              <div class="flex items-center space-x-3">
                <div>
                  <div class="font-semibold">{{ category.categoryName }}</div>
                </div>
              </div>
            </td>
            <td>
              {{ category.description }}
            </td>
            <td *ngIf="category.list === true">
              <span
                class="bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300"
                >Listed</span
              >
            </td>
            <td *ngIf="category.list === false">
              <span
                class="bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300"
                >Unlisted</span
              >
            </td>
            <th>
              <button class="btn btn-secondary btn-xs">Edit</button>
              <button class="btn btn-secondary btn-xs">LIst</button>
            </th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
